#ifndef __IPCTOOLS_OFFSET_PTR_H__
#define __IPCTOOLS_OFFSET_PTR_H__

#include <stdio.h>

typedef struct ipt_op_t ipt_op_t;

struct ipt_op_t
{
	int offset;
};

static inline void
ipt_op_set(ipt_op_t *this, void *ptr)
{
	this->offset = (char *)this - (char *)ptr;
}

static inline void * 
ipt_op_drf(ipt_op_t *this)
{
	return (char *)this - this->offset;
} 

static inline unsigned int
ipt_op_offset(ipt_op_t *this)
{
	return this->offset;
}

static inline char *
ipt_add_offset(char * ptr, unsigned int offset)
{
	return ptr + offset;
}

static inline char *
ipt_sub_offset(char *ptr, unsigned int offset)
{
	return ptr - offset;
}

#endif
